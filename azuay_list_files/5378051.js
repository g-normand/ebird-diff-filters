/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2,21],{1040:function(t,o,n){"use strict";n(905)},1041:function(t,o,n){var e=n(14)(!1);e.push([t.i,"@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.AudioAnnotations{position:absolute;height:100%;width:100%;top:0;user-select:none;outline:0}.AudioAnnotations .Annotation-crosshair--x{position:absolute;left:0;height:1px;width:100%;background-color:rgba(128,128,128,.4);pointer-events:none}.AudioAnnotations .Annotation-crosshair--y{position:absolute;top:0;width:1px;height:100%;background-color:rgba(128,128,128,.4);pointer-events:none}",""]),t.exports=e},699:function(t,o,n){var content=n(771);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("1614a2ea",content,!0,{sourceMap:!1})},751:function(t,o,n){"use strict";n.r(o);n(139),n(38),n(9);var e=n(752),r={name:"CloAudioAnnotations",data:function(){return{initialClick:{x:null,y:null,offset:null,zoom:null,sealed:null,handleTimeOffset:null},crosshair:{show:!1,x:0,y:0},mouseHeldDown:!1,handleHeldDown:null,annotations:[],annotationToSave:null}},computed:{duration:function(){return this.totalOffset*this.width/(this.zoom*this.basePxPerSec)}},props:{initialAnnotations:{type:Array,default:function(){return[]}},activeAnnotation:{type:Object,default:function(){return{}}},enableAnnotating:{type:Boolean,default:!1},showLabels:{type:Boolean,default:!1},alternateHandles:{type:Boolean,default:!1},edgeHandles:{type:Boolean,default:!1},showAnnotations:{type:Boolean,default:!0},annotationVersion:{type:String,default:"1.0"},offset:{type:Number,default:0},totalOffset:{type:Number,default:0},zoom:{type:Number,default:1},width:{type:Number,default:0},height:{type:Number,default:0},maxFrequency:{type:Number,default:10},basePxPerSec:{type:Number,default:250},clonePosition:{type:String,default:"xy"}},mounted:function(){this.annotations=this.initialAnnotations,document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("touchmove",this.mouseMove),document.addEventListener("touchend",this.mouseUp),document.addEventListener("touchcancel",this.mouseUp)},beforeDestroy:function(){document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("touchmove",this.mouseMove),document.removeEventListener("touchend",this.mouseUp),document.removeEventListener("touchcancel",this.mouseUp)},watch:{offset:function(){}},methods:{mouseEnter:function(t){this.enableAnnotating&&(this.crosshair.show=!0)},mouseLeave:function(t){this.enableAnnotating&&(this.crosshair.show=!1)},mouseDown:function(t){if(this.enableAnnotating&&(0===t.which||1===t.which)){t.preventDefault();var o=this.$el.getBoundingClientRect(),n=null,e=null;if(0===t.which?(n=(t.touches[0].clientX-o.left)/o.width,e=(t.touches[0].clientY-o.top)/o.height):(n=(t.clientX-o.left)/o.width,e=(t.clientY-o.top)/o.height),e>.99&&(e=1),e<.01&&(e=0),this.xInBounds(n)){var r=this.offset,h=this.zoom,d=t.target.getAttribute("data-annotation-handle");if(d){this.mouseHeldDown=!1,this.handleHeldDown=d;var l=d.split("-")[0];"label"===d.split("-")[1]&&(this.initialClick.handleTimeOffset=this.convertProportionalXToSeconds(n,this.offset,this.zoom)-this.annotations[l].coords.startTime),this.annotationToSave=l}else this.annotations.push(Object.assign({coords:{startTime:this.convertProportionalXToSeconds(n,r,h),endTime:this.convertProportionalXToSeconds(n,r,h),minFreq:this.convertProportionalYToFreq(e),maxFreq:this.convertProportionalYToFreq(e)},new:!0,edited:!1,hidden:!1,deleted:!1},this.activeAnnotation)),this.mouseHeldDown=!0,this.annotationToSave=this.annotations.length-1;this.initialClick.x=n,this.initialClick.y=e,this.initialClick.offset=r,this.initialClick.zoom=h,this.initialClick.sealed=!0,this.$forceUpdate()}}},mouseUp:function(t){!this.enableAnnotating||!this.mouseHeldDown&&!this.handleHeldDown||0!==t.which&&1!==t.which||(t.preventDefault(),this.mouseHeldDown=!1,this.handleHeldDown=!1,this.annotations=this.annotations.filter((function(t){return t.coords.hasOwnProperty("startTime")})),this.$forceUpdate(),this.saveAnnotations())},mouseMove:function(t){if(this.enableAnnotating){var o=this.$el.getBoundingClientRect(),n=(("touchmove"==t.type?t.touches[0]:t).clientX-o.left)/o.width,e=(("touchmove"==t.type?t.touches[0]:t).clientY-o.top)/o.height;if(this.crosshair={x:n,y:e,show:this.xInBounds(n)&&e>=0&&e<=1},0===t.which||1===t.which){var r=this.convertProportionalXToSeconds(n,this.offset,this.zoom),h=this.convertProportionalXToSeconds(this.initialClick.x,this.initialClick.offset,this.initialClick.zoom),d=this.convertProportionalYToFreq(e),l=this.convertProportionalYToFreq(this.initialClick.y);if(this.mouseHeldDown){var i=this.annotations.length-1;this.annotations[i].coords.startTime=Math.min(h,r),this.annotations[i].coords.endTime=Math.max(h,r),this.annotations[i].coords.maxFreq=Math.max(l,d),this.annotations[i].coords.minFreq=Math.min(l,d),this.annotationToSave=i}else if(this.handleHeldDown){var c=this.handleHeldDown.split("-"),m=parseInt(c[0]),f=c[1],x=this.annotations[m].coords.endTime-this.annotations[m].coords.startTime,v=this.annotations[m].coords.maxFreq-this.annotations[m].coords.minFreq;switch(f){case"middle":r-h!=0&&this.tInBounds(r-x/2)&&this.tInBounds(r+x/2)&&(this.annotations[m].coords.startTime=r-x/2,this.annotations[m].coords.endTime=r+x/2),d-l!=0&&this.khzInBounds(d+v/2)&&this.khzInBounds(d-v/2)&&(this.annotations[m].coords.maxFreq=d+v/2,this.annotations[m].coords.minFreq=d-v/2);break;case"label":var A=r-this.initialClick.handleTimeOffset;if(r-h!=0&&(this.tInBounds(A)&&this.tInBounds(A+x)?(this.annotations[m].coords.startTime=A,this.annotations[m].coords.endTime=A+x):A<0?(this.annotations[m].coords.startTime=0,this.annotations[m].coords.endTime=x):A+x>this.duration&&(this.annotations[m].coords.startTime=this.duration-x,this.annotations[m].coords.endTime=this.duration)),d-l!=0){var w=this.annotations[m].coords.maxFreq+(d-l);this.khzInBounds(w)&&this.khzInBounds(w-v)?(this.annotations[m].coords.maxFreq=w,this.annotations[m].coords.minFreq=this.annotations[m].coords.maxFreq-v):d>this.maxFrequency?(this.annotations[m].coords.maxFreq=this.maxFrequency,this.annotations[m].coords.minFreq=this.maxFrequency-v):w-v<0&&(this.annotations[m].coords.maxFreq=v,this.annotations[m].coords.minFreq=0)}break;case"topLeft":r<=this.annotations[m].coords.endTime?this.annotations[m].coords.startTime=r:(this.annotations[m].coords.startTime=this.annotations[m].coords.endTime,this.annotations[m].coords.endTime=r,this.handleHeldDown=m+"-topRight"),d>=this.annotations[m].coords.minFreq?this.annotations[m].coords.maxFreq=d:(this.annotations[m].coords.maxFreq=this.annotations[m].coords.minFreq,this.annotations[m].coords.minFreq=d,this.handleHeldDown=m+"-bottomLeft");break;case"topRight":r>=this.annotations[m].coords.startTime?this.annotations[m].coords.endTime=r:(this.annotations[m].coords.endTime=this.annotations[m].coords.startTime,this.annotations[m].coords.startTime=r,this.handleHeldDown=m+"-topLeft"),d>=this.annotations[m].coords.minFreq?this.annotations[m].coords.maxFreq=d:(this.annotations[m].coords.maxFreq=this.annotations[m].coords.minFreq,this.annotations[m].coords.minFreq=d,this.handleHeldDown=m+"-bottomRight");break;case"bottomLeft":r<=this.annotations[m].coords.endTime?this.annotations[m].coords.startTime=r:(this.annotations[m].coords.startTime=this.annotations[m].coords.endTime,this.annotations[m].coords.endTime=r,this.handleHeldDown=m+"-bottomRight"),d<=this.annotations[m].coords.maxFreq?this.annotations[m].coords.minFreq=d:(this.annotations[m].coords.minFreq=this.annotations[m].coords.maxFreq,this.annotations[m].coords.maxFreq=d,this.handleHeldDown=m+"-topLeft");break;case"bottomRight":r>=this.annotations[m].coords.startTime?this.annotations[m].coords.endTime=r:(this.annotations[m].coords.endTime=this.annotations[m].coords.startTime,this.annotations[m].coords.startTime=r,this.handleHeldDown=m+"-bottomLeft"),d<=this.annotations[m].coords.maxFreq?this.annotations[m].coords.minFreq=d:(this.annotations[m].coords.minFreq=this.annotations[m].coords.maxFreq,this.annotations[m].coords.maxFreq=d,this.handleHeldDown=m+"-topRight");break;case"left":this.tInBounds(r)&&(r<=this.annotations[m].coords.endTime?this.annotations[m].coords.startTime=r:(this.annotations[m].coords.startTime=this.annotations[m].coords.endTime,this.annotations[m].coords.endTime=r,this.handleHeldDown="".concat(m,"-right")));break;case"right":this.tInBounds(r)&&(r>=this.annotations[m].coords.startTime?this.annotations[m].coords.endTime=r:(this.annotations[m].coords.endTime=this.annotations[m].coords.startTime,this.annotations[m].coords.startTime=r,this.handleHeldDown="".concat(m,"-left")));break;case"top":this.khzInBounds(d)&&(d>=this.annotations[m].coords.minFreq?this.annotations[m].coords.maxFreq=d:(this.annotations[m].coords.maxFreq=this.annotations[m].coords.minFreq,this.annotations[m].coords.minFreq=d,this.handleHeldDown="".concat(m,"-bottom")));break;case"bottom":this.khzInBounds(d)&&(d<=this.annotations[m].coords.maxFreq?this.annotations[m].coords.minFreq=d:(this.annotations[m].coords.minFreq=this.annotations[m].coords.maxFreq,this.annotations[m].coords.maxFreq=d,this.handleHeldDown="".concat(m,"-top")))}this.initialClick.y=e,this.annotations[m].edited=!0,this.annotationToSave=m}}this.$forceUpdate()}},constrainBounds:function(t){return t>1?1:t<0?0:t},xInBounds:function(t){return t>=Math.max(0,.5-this.offset)&&t<=Math.min(1,.5-(this.offset-this.totalOffset))},tInBounds:function(t){return t>=0&&t<=this.duration},khzInBounds:function(t){return t>=0&&t<=this.maxFrequency},convertProportionalYToFreq:function(t){return Math.min(this.maxFrequency,Math.max(0,(1-t)*this.maxFrequency))},convertProportionalXToSeconds:function(t,o,n){var e=o*this.width/(this.basePxPerSec*n),r=(t-.5)*this.width/(this.basePxPerSec*n);return Math.max(0,Math.min(this.duration,e+r))},convertSecondsToProportion:function(t,o,n){return(t*(this.basePxPerSec*n)-o*this.width)/this.width+.5},computeDisplay:function(t,o){switch(o){case"top":return 100*(1-t.coords.maxFreq/this.maxFrequency)+"%";case"bottom":return t.coords.minFreq/this.maxFrequency*100+"%";case"left":return 100*this.convertSecondsToProportion(t.coords.startTime,this.offset,this.zoom)+"%";case"right":return 100*(1-this.convertSecondsToProportion(t.coords.endTime,this.offset,this.zoom))+"%"}},annotationSelected:function(t,o){this.$emit("annotation-selected",t,o)},rightClick:function(t){if(this.enableAnnotating&&this.annotations.length&&3===t.which){t.preventDefault();for(var o=this.annotations.length,n=null,i=this.annotations.length-1;i>=0;i--)if(this.annotations[i].categoryId===this.activeAnnotation.categoryId&&!this.annotations[i].deleted){n=i;break}if(null!=n){var e=JSON.parse(JSON.stringify(this.annotations[n]));e.hasOwnProperty("id")&&delete e.id,e.hasOwnProperty("annotationId")&&delete e.annotationId,e.new=!0,e.edited=!1,e.deleted=!1,e.hidden=!1,this.annotations.push(e);var r=this.$el.getBoundingClientRect(),h=(t.clientX-r.left)/r.width,d=this.convertProportionalXToSeconds(h,this.offset,this.zoom);if(d==this.duration)return;var l=this.annotations[o].coords.endTime-this.annotations[o].coords.startTime;this.annotations[o].coords.startTime=d,this.annotations[o].coords.endTime=Math.min(this.convertProportionalXToSeconds(.5,this.totalOffset,this.zoom),d+l),this.annotationToSave=o,this.saveAnnotations()}}},saveAnnotations:function(){this.$el.focus(),this.$emit("annotation-changed",{index:this.annotationToSave,data:this.annotations})}},components:{CloAnnotation:e.default}},h=(n(1040),n(2)),component=Object(h.a)(r,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"AudioAnnotations",class:{"AudioAnnotations--alternateHandles":t.alternateHandles},style:{width:t.width+"px",height:t.height+"px"},attrs:{tabindex:"-1"},on:{mouseenter:t.mouseEnter,mouseleave:t.mouseLeave,mousedown:t.mouseDown,touchstart:t.mouseDown,contextmenu:t.rightClick}},[t.showAnnotations?t._l(t.annotations,(function(n,e){return o("CloAnnotation",{key:e,attrs:{top:t.computeDisplay(n,"top"),left:t.computeDisplay(n,"left"),right:t.computeDisplay(n,"right"),bottom:t.computeDisplay(n,"bottom"),color:n.color,annotationIndex:e,label:n.label,enabledAnnotating:t.enableAnnotating,hidden:n.deleted||n.hidden,showLabels:t.showLabels,alternateHandles:t.alternateHandles,edgeHandles:t.edgeHandles},on:{"annotation-selected":t.annotationSelected}})})):t._e(),t._v(" "),t.crosshair.show?o("div",{staticClass:"Annotation-crosshair--x",style:{top:100*t.crosshair.y+"%"}}):t._e(),t._v(" "),t.crosshair.show?o("div",{staticClass:"Annotation-crosshair--y",style:{left:100*t.crosshair.x+"%"}}):t._e()],2)}),[],!1,null,null,null);o.default=component.exports;installComponents(component,{CloAnnotation:n(752).default})},752:function(t,o,n){"use strict";n.r(o);n(22);var e=n(113),r=(n(139),{name:"CloAnnotation",props:{top:{type:String},left:{type:String},bottom:{type:String},right:{type:String},color:{type:String},hidden:{type:Boolean},showLabels:{type:Boolean},enabledAnnotating:{type:Boolean},alternateHandles:{type:Boolean},edgeHandles:{type:Boolean},annotationIndex:{type:Number},label:{type:String}},computed:{handles:function(){return[].concat(Object(e.a)(this.edgeHandles?["left","right","bottom","top"]:[]),["topLeft","topRight","bottomLeft","bottomRight"])}}}),h=(n(770),n(2)),component=Object(h.a)(r,(function(){var t,o=this,n=o._self._c;return n("div",{staticClass:"Annotation",class:{hidden:o.hidden,alternateHandles:o.alternateHandles},style:{top:o.top,left:o.left,bottom:o.bottom,right:o.right,border:"2px solid",color:null!==(t=o.color)&&void 0!==t?t:"#ff7f00"}},[o.showLabels||o.alternateHandles?n("div",{staticClass:"Annotation-label",attrs:{"data-annotation-handle":o.annotationIndex+"-label"},on:{contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),o.$emit("annotation-selected",o.annotationIndex,t)}}},[o._v("\n\t\t"+o._s(o.annotationIndex+1)+": "+o._s(o.label)+"\n\t")]):o._e(),o._v(" "),o.enabledAnnotating?[o._l(o.handles,(function(t,e){return n("div",{key:e,class:["Annotation-handle Annotation-handle--".concat(o.handles.length-e>4?"edge":"corner"," Annotation-handle--").concat(t)],attrs:{"data-annotation-handle":["".concat(o.annotationIndex,"-").concat(t)]}})})),o._v(" "),o.alternateHandles?o._e():n("div",{staticClass:"Annotation-handle Annotation-handle--middle",attrs:{"data-annotation-handle":o.annotationIndex+"-middle"}},[o._v("\n\t\t\t"+o._s(o.annotationIndex+1)+"\n\t\t")])]:o._e()],2)}),[],!1,null,null,null);o.default=component.exports},770:function(t,o,n){"use strict";n(699)},771:function(t,o,n){var e=n(14)(!1);e.push([t.i,'@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.Annotation{position:absolute;pointer-events:none}.Annotation .Annotation-label{position:absolute;bottom:calc(100% + 2px);left:-2px;pointer-events:none;color:#2e261f;padding:1px .25rem 2px;font-size:.75rem;line-height:1.333;background-color:rgba(255,255,255,.8);border-top-left-radius:3px;border-top-right-radius:3px;border:1px solid #817f79;border-bottom:0;white-space:nowrap;color:#2e261f;z-index:1}.Annotation .Annotation-handle{position:absolute;pointer-events:all;z-index:1}.Annotation .Annotation-handle--left,.Annotation .Annotation-handle--right{transform:translateX(-50%);width:10px;height:100%;cursor:ew-resize}.Annotation .Annotation-handle--right{left:100%}.Annotation .Annotation-handle--right::after{left:50%}.Annotation .Annotation-handle--top,.Annotation .Annotation-handle--bottom{transform:translateY(-50%);height:10px;width:100%;cursor:ns-resize}.Annotation .Annotation-handle--bottom{top:100%}.Annotation .Annotation-handle--bottom::after{top:50%}.Annotation .Annotation-handle--topLeft{left:-7px;top:-7px;cursor:nwse-resize}.Annotation .Annotation-handle--topRight{right:-7px;top:-7px;cursor:nesw-resize}.Annotation .Annotation-handle--bottomLeft{left:-7px;bottom:-7px;cursor:nesw-resize}.Annotation .Annotation-handle--bottomRight{right:-7px;bottom:-7px;cursor:nwse-resize}.Annotation .Annotation-handle--middle{top:50%;left:50%;transform:translate(-50%, -50%);cursor:move;height:14px;width:14px;font-size:10px;line-height:1.2;text-align:center;font-weight:bold;color:#2e261f;border:1px solid #000;background-color:#fff}.Annotation .Annotation-handle--corner{border:1px solid #000;background-color:#fff;height:12px;width:12px}.Annotation.hidden,.Annotation.deleted{display:none}.Annotation.alternateHandles .Annotation-handle{border:0;background-color:rgba(0,0,0,0)}.Annotation.alternateHandles .Annotation-handle--topLeft:after{content:"";position:absolute;height:12px;width:12px;top:2px;left:2px;border-left:2px solid currentColor;border-top:2px solid currentColor}.Annotation.alternateHandles .Annotation-handle--topRight:after{content:"";position:absolute;height:12px;width:12px;top:2px;right:2px;border-right:2px solid currentColor;border-top:2px solid currentColor}.Annotation.alternateHandles .Annotation-handle--bottomLeft:after{content:"";position:absolute;height:12px;width:12px;bottom:2px;left:2px;border-left:2px solid currentColor;border-bottom:2px solid currentColor}.Annotation.alternateHandles .Annotation-handle--bottomRight:after{content:"";position:absolute;height:12px;width:12px;bottom:2px;right:2px;border-right:2px solid currentColor;border-bottom:2px solid currentColor}.Annotation.alternateHandles .Annotation-label{pointer-events:all;cursor:move}',""]),t.exports=e},905:function(t,o,n){var content=n(1041);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("8f342392",content,!0,{sourceMap:!1})}}]);